# AI Metadata Extraction Prompts Configuration for LiaScript Courses
# Adapted for interactive educational content created with LiaScript

# System configuration
system:
  template: "### System: You are an assistant trained to support the bibliographic cataloging and indexing of interactive online educational materials. Your task is to extract structured metadata that supports library cataloging, such as author names, titles, classification codes, and keywords from LiaScript courses. Only use information explicitly available in the document. If no relevant information is found, return an empty value. Do not generate or assume content. Avoid any explanations or filler text — output must be concise and structured. All answers must be in German, unless explicitly requested otherwise. ### Context: {context} ### User: {question} ### Response:"

# Basic document metadata
document:
  author: "Extract ONLY the course authors from the LiaScript course {file}. Look specifically in: LiaScript metadata header (author: field), title page, document header, author block directly below the title. The LiaScript header often contains metadata in HTML comments at the beginning. IGNORE: reference lists, citations in text, bibliography sections, footnotes, acknowledgments, 'References', 'Literaturverzeichnis'. If you see reference markers like [1], (2023), or 'et al.', those are NOT document authors. CRITICAL: DO NOT extract institutional names as authors. NEVER return the following as authors: University/Hochschule/Universität names (e.g., 'TU Dresden', 'HTW Dresden', 'Universität Leipzig', 'TU Bergakademie Freiberg', 'Hochschule Mittweida'), Institute/Department names (e.g., 'Medienzentrum', 'Institut für Informatik', 'Fakultät'), Organization abbreviations (e.g., 'TUD', 'HTWK', 'BA Sachsen'), Email domains or website names. Only extract PERSON names (first name and/or last name). If you see only an institution name but no person name, return an empty string. Output the name(s) only as comma-separated list — no introductions, explanations, or phrases. If no clear course authors found, return an empty string. Your answer must be in German."

  title: "Extract the course title from the LiaScript course {file}. The title is typically found in: the LiaScript metadata header (<!--\ntitle: ...\n-->), the first heading (# Title), or the most prominent text at the beginning. Look at the beginning of the file. IGNORE: section headings, chapter titles, or content from later sections. If no title is found, return an empty string — do not write \"unknown\" or anything else. Return only the title — no introductory phrases or explanations. Your answer should be in German."

  type: "You are given a LiaScript course {file}. Determine what type of educational material it is. Choose exactly one of the following categories (English label): \"Interactive course\": a complete interactive course with exercises and multimedia elements. \"Lecture slides\": visual slides used in lectures or presentations (LiaScript format). \"Lecture script\": structured written notes for a lecture, often textbook-like. \"Exercise collection\": a collection of tasks or problems, typically interactive. \"Tutorial\": instructional guide or how-to with practical steps and exercises. \"Documentation\": technical or project documentation in interactive format. \"Workshop material\": materials for hands-on workshops or practical sessions. \"Lab instructions\": instructions for laboratory exercises or practical experiments. \"Other\": if no category fits clearly. If you are not sure or cannot determine the type confidently, return an empty string. Otherwise, return only the English category name listed above — no explanation or additional text. The output must be in German."

# Affiliation detection (grouped together)
affiliation:
  basic: "Identify the institutional affiliation of the course author in the LiaScript document {file}. Look for the following clues: University or college names (full or abbreviated) in the metadata header, Institute names or departments in the author information, Email addresses with academic domains (.edu, .ac.*, university domains), Repository URLs that indicate institutional affiliation (e.g., github.com/TUBAF-IfI-LiaScript), Footer or header information with institutional names, Author information with affiliation. Examples of German institutions: Technical Universities: TU Dresden, TU Berlin, TU München, RWTH Aachen, TU Bergakademie Freiberg; Universities: Universität Hamburg, LMU München, Uni Köln; Universities of Applied Sciences: FH Aachen, Hochschule München, HS Darmstadt; Special Institutes: KIT Karlsruhe, Fraunhofer Institut. Return only the name of the institution, without introductions or explanations. If no institution is found, return an empty string. Answer must be in German."

  enhanced: "Search in the LiaScript document {file} for clues about the author's institutional affiliation. Pay special attention to: The metadata header at the beginning (often contains author and affiliation info), University names (full or abbreviated), College or university names (TU, FH, Universität, Hochschule), Institute names or departments, Email addresses with university domains (.edu, .ac.*, university-specific domains), GitHub repository organization names (e.g., TUBAF-IfI-LiaScript, LiaScript, andre-dietrich), Footer or header information with institutional names. Examples of German universities: TU Dresden, TU Berlin, TU München, TU Bergakademie Freiberg; Universität Hamburg, Uni Köln, LMU München; FH Aachen, Hochschule München; RWTH Aachen, KIT Karlsruhe. Return only the name of the institution. If multiple are found, take the most prominent one. If nothing is found, return an empty string. Answer must be in German."

  email_domain: "Search in the LiaScript document {file} for email addresses and analyze the domains. University domains can be: .edu (international universities), .ac.uk, .ac.at (academic domains), tu-dresden.de, uni-hamburg.de, etc., fh-aachen.de, hs-münchen.de, etc., tu-freiberg.de, tu-berlin.de, etc. If you find an email address with a university domain, derive the university name from it. Examples: max.mustermann@tu-dresden.de → TU Dresden; anna.beispiel@uni-hamburg.de → Universität Hamburg; test@fh-aachen.de → FH Aachen; sebastian.zug@tu-freiberg.de → TU Bergakademie Freiberg. Return only the derived university name or an empty string. Answer must be in German."

# Keywords extraction (grouped by type)
keywords:
  extract: "Extract exactly 15 precise German keywords from the LiaScript course {file}. The keywords should be suitable for library cataloging of interactive educational content. Focus on specific and content-relevant terms — avoid generic words or phrases. Consider: technical topics covered, learning objectives, programming languages or tools mentioned, scientific domains, pedagogical approaches. IMPORTANT: Return exactly 15 keywords, no more, no less. Return a comma-separated list of keywords in German, with no introduction or explanation. Output only the list, in German."

  generate: "Generate exactly 15 precise German keywords describing the content of the LiaScript course {file}. The keywords should be suitable for library cataloging of interactive educational content. Focus on specific and content-relevant terms — avoid generic words or phrases. Consider: main topics and subtopics, technologies and tools covered, target audience (e.g., beginners, advanced), learning methods (interactive, practical exercises), scientific or technical domains. IMPORTANT: Return exactly 15 keywords, no more, no less. Return a comma-separated list of keywords in German, with no introduction or explanation. Output only the list, in German."

  controlled_vocabulary: "Assign exactly 15 keywords from relevant controlled vocabularies or subject headings to the LiaScript course {file}. Focus on educational and technical terminology. If no specific controlled vocabulary keywords are available for certain concepts, use broader terms where possible, even if they are more general. Combine keywords into chains to specify specialized concepts more accurately, especially when only general terms are available. IMPORTANT: Return exactly 15 keywords, no more, no less. Return only a comma-separated list of the keywords — no introduction or explanation. The answer must be in German."

# Document summarization
summary:
  generate: "Create a concise summary of the LiaScript course {file} in exactly 3 sentences. The summary should capture the main content, learning objectives, and key information of the interactive educational material. Focus on what learners would gain from this course. Do not include introductory phrases like 'This document' or 'The summary is'. Return only the 3-sentence summary in German, with clear and informative content."

  structured: "Summarize the LiaScript course {file} by addressing these three aspects in 3 sentences: 1) What is the main topic or subject area of this interactive course? 2) What type of educational content and interactive elements are provided (exercises, quizzes, simulations, code examples, etc.)? 3) Who is the target audience and what learning objectives are addressed? Return only the structured 3-sentence summary in German, without introductory phrases."

# Wikimedia keyword disambiguation
wikimedia:
  entity_selection: "Du bist ein Experte für Wikimedia-Wissensgraphen und semantische Verknüpfungen.\n\nOriginales Keyword: \"{original_keyword}\"\n\nKandidaten aus der Wikidata-Datenbank:\n{candidates}\n\n{context_info}\n\nAufgabe: Wähle den Kandidaten aus, der semantisch am besten zum originalen Keyword passt.\nBeachte dabei folgende Kriterien:\n1. Semantische Bedeutung und Relevanz zum Thema des Kurses\n2. Präzision und Spezifität des Konzepts\n3. Einordnung in den thematischen Kontext der anderen Keywords\n4. Bei mehrdeutigen Begriffen wähle die im Kontext wahrscheinlichste Bedeutung\n\nGib nur die Nummer des besten Kandidaten zurück. Falls kein Kandidat gut passt, antworte mit \"0\".\nAntwort: "

# Educational level and target audience
education:
  level: "Analysiere den LiaScript-Kurs {file} und identifiziere die primäre Bildungsstufe bzw. Anwendungssituation, für die dieser Kurs konzipiert ist. Berücksichtige dabei: den Schwierigkeitsgrad und die Komplexität der Inhalte, die verwendete Fachsprache und Terminologie, die Art der Aufgaben und Übungen, die vorausgesetzten Vorkenntnisse, explizite Zielgruppenangaben im Kurs. Wähle GENAU EINE der folgenden Kategorien aus: \"Frühkindliche Bildung\" - Kindergarten, Vorschule (3-6 Jahre), \"Primarstufe\" - Grundschule, Klassen 1-4 (6-10 Jahre), \"Sekundarstufe I\" - Weiterführende Schule, Klassen 5-10 (10-16 Jahre), \"Sekundarstufe II\" - Gymnasium Oberstufe, Klassen 11-13, Abiturniveau (16-19 Jahre), \"Berufsbildung\" - Berufsausbildung, Berufsschule, berufliche Qualifikation, \"Hochschulbildung\" - Bachelor, Master, Studium an Universitäten und Hochschulen, \"Wissenschaftliche Forschung\" - Promotion, Forschung, wissenschaftliche Fachliteratur, \"Weiterbildung\" - Erwachsenenbildung, berufliche Weiterbildung, Volkshochschule, \"Nicht spezifisch\" - Allgemeinbildung ohne klare Einordnung, für mehrere Zielgruppen geeignet. Gib NUR die exakte Kategorie zurück (z.B. \"Hochschulbildung\"), ohne Erklärungen oder zusätzlichen Text. Falls die Bildungsstufe nicht eindeutig bestimmbar ist, gib \"Nicht spezifisch\" zurück. Die Antwort muss auf Deutsch sein."

  audience_detail: "Analysiere den LiaScript-Kurs {file} und erstelle eine präzise Beschreibung der Zielgruppe in 1-2 Sätzen. Berücksichtige: das Vorwissen und die erwarteten Fachkenntnisse, die Altersgruppe oder Bildungsphase, den beruflichen oder akademischen Kontext (z.B. Informatikstudium, Lehrerfortbildung, Schüler), die Lernziele und angestrebten Kompetenzen. Die Beschreibung sollte konkret sein (z.B. \"Informatik-Studierende im Bachelor-Studium mit Grundkenntnissen in Programmierung\" oder \"Lehrkräfte der Sekundarstufe I für den Physikunterricht\" oder \"Schülerinnen und Schüler der Klassen 7-9 ohne Vorkenntnisse\"). Gib NUR die Zielgruppenbeschreibung zurück, ohne einleitende Phrasen wie \"Die Zielgruppe ist\" oder \"Dieser Kurs richtet sich an\". Die Antwort muss auf Deutsch sein."

# Classification system (Dewey Decimal Classification)
classification:
  dewey_direct: "Assign the LiaScript course {file} to up to three suitable Dewey Decimal Classifications (DDC), ranked by relevance. Return the result as a JSON array, where each entry includes: \"notation\": the DDC classification number (as a string), \"label\": the classification label in German, \"score\": a floating-point number between 0.0 and 1.0 representing relevance. If no valid classification can be determined, return an empty JSON array ([]). Use only officially recognized Dewey Decimal Classification notations. Respond with a valid raw JSON string only, without any markdown formatting (no ```json ...), explanations, or commentary."

  # Two-step Dewey classification
  thematic_analysis: "Analyze the content of the LiaScript course {file} and describe the main themes. Which academic fields or technical topics are covered? Name 3-5 main themes or academic fields as keywords (e.g., \"Informatik\", \"Mathematik\", \"Physik\", \"Ingenieurwesen\", \"Programmierung\", etc.). Respond only with the thematic areas, separated by commas. Answer must be in German."

  dewey_mapping: "Based on the identified thematic areas: \"{thematic_areas}\" Map these themes to appropriate Dewey Decimal Classifications. Use ONLY the following official Dewey classifications: {dewey_sample} Important guidelines: 1) Select 1-3 classifications, prioritizing quality over quantity. 2) Only include classifications with confidence score ≥ 0.4. 3) Avoid generic \"000\" classification unless no better match exists. 4) Use more specific notations (e.g., \"004.6\" instead of just \"004\") when available in the list. 5) Order by relevance (highest score first). Respond ONLY with a valid JSON array in the format: [{{\"notation\": \"XXX\", \"label\": \"Beschreibung\", \"score\": 0.X}}] where score is between 0.4 and 1.0. No explanations or additional text. Answer must be in German."
